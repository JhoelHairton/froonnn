<!-- pagos.component.html -->
<div class="p-6 max-w-3xl mx-auto">
  <h2 class="text-2xl font-bold mb-6">ğŸ’³ MÃ©todos de pago</h2>

  <!-- Tarjetas guardadas -->
  <div *ngIf="tarjetas.length > 0; else sinTarjetas" class="space-y-4 mb-8">
    <div *ngFor="let tarjeta of tarjetas" class="bg-white border rounded-lg p-4 flex justify-between items-center shadow">
      <div>
        <p class="font-medium">**** **** **** {{ tarjeta.ultimos4 }}</p>
        <p class="text-sm text-gray-600">{{ tarjeta.tipo }} Â· Vence {{ tarjeta.vencimiento }}</p>
      </div>
      <button class="text-sm text-red-600 hover:underline" (click)="eliminarTarjeta(tarjeta)">
        Eliminar
      </button>
    </div>
  </div>

  <!-- Agregar nueva tarjeta -->
  <ng-template #sinTarjetas>
    <p class="text-gray-500 mb-6">No tienes mÃ©todos de pago guardados.</p>
  </ng-template>

  <h3 class="text-xl font-semibold mb-4">Agregar nueva tarjeta</h3>

  <form class="space-y-4" (ngSubmit)="guardarTarjeta()">
    <input type="text" [(ngModel)]="nueva.numero" name="numero" placeholder="NÃºmero de tarjeta"
           maxlength="19" class="w-full border px-4 py-2 rounded" required />

    <input type="text" [(ngModel)]="nueva.titular" name="titular" placeholder="Titular"
           class="w-full border px-4 py-2 rounded" required />

    <div class="grid grid-cols-2 gap-4">
      <input type="text" [(ngModel)]="nueva.vencimiento" name="vencimiento" placeholder="MM/AA"
             class="w-full border px-4 py-2 rounded" required />

      <input type="text" [(ngModel)]="nueva.cvv" name="cvv" placeholder="CVV"
             maxlength="4" class="w-full border px-4 py-2 rounded" required />
    </div>

    <div class="text-right">
      <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition">
        Guardar tarjeta
      </button>
    </div>
  </form>
</div>
